<app-header></app-header>

<mat-card class="page-content-custom">
  <mat-card-header>
    <button (click)="goBack()" mat-icon-button>
      <mat-icon>arrow_back</mat-icon>
    </button>
    <mat-card-title>Create a new post</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form #postForm="ngForm" (ngSubmit)="submitForm()">

      <mat-form-field>
        <mat-label>Select a Topic</mat-label>
        <mat-select [(ngModel)]="selectedTopic" [required]="true" name="selectedTopic">
          <mat-option *ngFor="let topic of topics" [value]="topic">{{ topic }}</mat-option>
        </mat-select>
        <mat-error *ngIf="postForm.controls['selectedTopic'].hasError('required')">
          Topic is required
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input [(ngModel)]="newPostTitle" matInput name="newPostTitle" placeholder="Post Title" required>
        <mat-error *ngIf="postForm.controls['newPostTitle'].hasError('required')">
          Post Title is required
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <textarea [(ngModel)]="newPostContent" matInput name="newPostContent" placeholder="Post Content"
                  required></textarea>
        <mat-error *ngIf="postForm.controls['newPostContent'].hasError('required')">
          Post Content is required
        </mat-error>
      </mat-form-field>

      <!--<button [disabled]="postForm.invalid" color="primary" mat-raised-button type="submit">Submit</button>-->
      <button color="primary" mat-raised-button type="submit">Submit</button>
    </form>
  </mat-card-content>
</mat-card>
